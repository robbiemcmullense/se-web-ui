@import "../../theme/theme";

:host {
  box-sizing: border-box;
  padding: 0;
  width: 100%;
  // Per Material specs a toolbar cannot have multiple lines inside of a single row.
  // Disable text wrapping inside of the toolbar. Developers are still able to overwrite it.
  // white-space: nowrap;
  @include display-flex();
  @include flex-direction('row');
  @include align-items(center);


}

.tabbar{
  nav {
    width: fit-content;
    min-width: 100%;
  }
  .sub-nav{
    margin-left: calc(#{$spacing-large} * -1.5);
    background-color: rgba(0, 0, 0, 0.15);
  }
  nav, .sub-nav{
    height: 100%;
    @include display-flex();
    @include align-items(center);
    > a[disabled] {
      cursor: default;
    }
    > a, > span {
      display: flex;
      align-items: center;
      font-weight: 500;
      position: relative;
      cursor: pointer;
      // display: inline;
      padding-right: 0;
      padding-left: 0;
      text-decoration: none;
      transition: .2s;
      height: 100%;

      line-height: 1.2;
      min-height: 40px;

      &:focus {
        background-color: transparent;
      }
      &:hover {
        text-decoration: none;
        background-color: transparent;
      }
      &:after {
        content: "";
        cursor: default;
        position: absolute;
        left: 0;
        bottom: -4px;
        height: 4px;
        transition: .2s;
        width: 100%;
      }
      &.active:after{
        height: 4px;
      }
      &.label {
        opacity: 0.8;
        padding: 0.1em 0.4em 0.2em;
        margin-bottom: 2px;
      }
    }
  }
}

.tabbar-d-flex-main {
  background-color: inherit;
  display: flex;
  @include flex-direction(row);
  width: 100%;
}

.tabbar-fill-space {
  @include flex(1);
  min-height: 4px;
}
.tabbar-centered{
  @include display-flex();
  @include align-items(center);
}

.tabbar-nav-center-wrapper {
  overflow-y: hidden;
  scrollbar-width: none;
  overflow-x: auto;
  -ms-overflow-style: none;
  &::-webkit-scrollbar {
    height: 0 !important
  }
}


.tab-primary,
.tab-alternative {
  font-size: 16px;
  width: 100%;

  &.tabbar-opt-nav {
    nav {
      > a, > span {
        margin: 0 calc(#{$spacing-large} * 1.5);
      }
    }
    .sub-nav {
      > a, > span {
        margin: 0 $spacing-large;
      }
    }
    nav, .sub-nav {
      > a[disabled] {
        opacity: 0.5;
      }
    }
  }
  &.tabbar-opt-content {
    nav {
      @include background-color('alternative');
      box-sizing: border-box;
      height: 46px;
      min-width: 100%;
      max-width: 100%;
      > a, > span {
        @include background-color('alternative');
        border: 1px solid;
        @include border-color('standard');
        border-bottom: 0;
        border-left: 0;
        line-height: 46px;
        @include color('alternative-contrast');
        padding: 0 $spacing-xlarge;
        &:first-child {
          border-left: 1px solid;
          @include border-color('standard');
        }
        &:not([disabled]):hover {
          @include background-color('hover-standard');
        }
        &:after {
          display: none;
          bottom: auto;
          top: 0;
          height: 0;
        }
        &.active {
          @include background-color('background');
          height: 47px;
          @include color('primary');
          &:after {
            display: inline-block;
            @include background-color('primary');
            height: 2px;
          }
          &:hover {
            color: initial;
            &:after {
              @include background-color('primary');
            }
          }
        }
        &[disabled] {
          @include color('hover-standard');
        }
      }
    }
  }
}

.tab-primary {
  nav, .sub-nav{
    > a, > span {
      @include color('primary-contrast');
      &:not([disabled]):hover {
        &:after {
          @include background-color('primary-contrast');
        }
      }
      &.active:after {
        @include background-color('primary-contrast');
      }
    }
  }
}

.tab-alternative {
  @include background-color('alternative');
  @include color('alternative-contrast');
  .nav-left-wrapper {
    [slot="start"] {
      &>*:first-child:not(a){
        padding-left: $spacing-large;
      }
      &>*:last-child:not(a){
        padding-right: $spacing-large;
      }
    }
  }
  nav,.sub-nav{
    > a, > span {
      @include color('alternative-contrast');
      &.active:after {
        @include background-color('primary');
      }
    }
  }
}

.tabbar-opt-nav, .tabbar-opt-content {
  font-size: 16px;
  width: 100%;
}

.tabbar-opt-nav {
  nav,.sub-nav{
     > a, > span {
      margin: 0 calc(#{$spacing-large} * 1.5);
    }
    > a[disabled] {
      opacity: .5;
    }
  }
}
.tabbar-opt-nav.tab-primary {
  @include background-color('primary');
  @include color('primary-contrast');
  // box-shadow: $inner-shadow-top;
  // border-bottom: 4px solid rgba(black, 0.25);
  nav:not([slot='start']) {
    border-bottom: 4px solid rgba(black, 0.25);
  }
  .nav-left-wrapper {
    background-color: rgba(black, 0.4);
    white-space: nowrap;
    [slot="start"] {
      &>*:first-child:not(a) {
        padding-left: $spacing-large;
      }
      &>*:last-child:not(a) {
        padding-right: $spacing-large;
      }
    }
  }
  nav, .sub-nav{
    height: 44px;
    text-transform: uppercase;
    // > a {
    //   line-height: 44px;
    // }
  }
  .sub-nav{
    text-transform: capitalize;
  }
}
.tabbar-opt-nav.tab-alternative {
  nav, .sub-nav {
    height: 40px;
    > a {
      line-height: 40px;
      &[disabled] {
        // @include color('primary');
        opacity: .4;
      }
      &:not([disabled]):hover, &.active {
        @include color('primary')
      }
      &:after {
        bottom: 0;
        display: inline-block;
      }
      &:hover:not([disabled]):after {
        @include background-color('primary');
        height: 4px;
      }
    }
  }
}
.tabbar-opt-content nav {
  @include background-color('alternative');
  box-sizing: border-box;
  height: 46px;
  min-width: 100%;
  max-width: 100%;
  > a, > span {
    @include background-color('alternative');
    border: 1px solid;
    @include border-color('standard');
    border-bottom: 0;
    border-left: 0;
    // line-height: 46px;
    @include color('alternative-contrast');
    padding: 0 $spacing-xlarge;
    &:first-child {
      border-left: 1px solid;
      @include border-color('standard');
    }
    &:not([disabled]):hover {
      @include background-color('hover-standard')
    }
    &:after {
      display: none;
      bottom: auto;
      top: 0;
      height: 0;
    }
    &.active {
      @include background-color('background');
      height: 47px;
      @include color('primary');
      &:after {
        display: inline-block;
        @include background-color('primary');
        height: 2px;
      }
      &:hover {
        color: initial;
        &:after {
          @include background-color('primary');
        }
      }
    }
    &[disabled] {
      @include color('hover-standard');
    }
  }
}
.tabbar-opt-content.tab-alternative nav {
  @include background-color('background');
  > a, > span {
    @include background-color('background');
    &.active {
      @include background-color('alternative');
    }
    &:not([disabled]):hover {
      @include background-color('hover-standard')
    }
  }
}
.tabbar-tab-end-primary.tabbar-opt-end-nav nav {
  height: calc(100% - 4px);
}
.tabbar-opt-end-content {
  @include background-color('alternative');
}
.tabbar-opt-end-content.tabbar-tab-end-alternative {
  @include background-color('background');
}

.tabbar-opt-nav, .tabbar-opt-content{
  &.scroll nav {
    white-space: nowrap;
  }
  &.stack nav {
    flex-wrap: wrap;
    height: auto;
  }
  &.compact nav a{
    white-space: wrap;
  }
}
